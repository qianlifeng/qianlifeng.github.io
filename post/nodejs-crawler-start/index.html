<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.79.1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta property="og:url" content="https://blog.qlf.io/post/nodejs-crawler-start/"><link rel=canonical href=https://blog.qlf.io/post/nodejs-crawler-start/><link rel=preload href=/js/highlight.pack.js as=script><link rel=alternate type=application/atom+xml href=https://blog.qlf.ioindex.xml title="Scott Qian"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.qlf.io"},"articleSection":"post","name":"Nodejs写一个简单爬虫","headline":"Nodejs写一个简单爬虫","description":"Nodejs最近两年火的不行啊，作为半个前端（好吧，最近写公司项目写的快变成半个前端了，再下去是不是要全端了）我也来试着用 nodejs 写个最简单的爬虫，体验一把 nodejs。\n首先下载 Nodejs 什么的就不说了，直接下一步。Nodejs 的包管理工具 NPM 也会同时被安装。这点做得比 python 好，装个 pip 还要自己动手。话说 c#也有个 nuget，好像包管理必不可少啊现在。安装好之后，使用 npm 安装如下两个依赖库：\nnpm install request npm install cheerio 注意，安装的时候一定要先将命令行跳到你项目文件所在的目录，然后进行安装。否则安装之后会出现 request 找不到的错误。其中 request 是用来请求数据的，cherrio 是用 jquery 的语法来解析 html 的，对于熟悉 jquery 的童鞋来说十分方便。 上代码:\nvar request = require(\u0026#34;request\u0026#34;); var cheerio = require(\u0026#34;cheerio\u0026#34;); request(\u0026#34;http:\/\/news.dbanotes.net\/\u0026#34;, function(error, response, body) { if (!error \u0026amp;\u0026amp; response.statusCode == 200) { var $ = cheerio.load(body); $(\u0026#34;tr td.title a\u0026#34;).each(function() { console.log(\u0026#34;%s (%s)\u0026#34;, $(this).text(), $(this).attr(\u0026#34;href\u0026#34;)); }); } }); 从这个小例子来看还是蛮简单的噢，执行结果如下： ","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2014","datePublished":"2014-03-03 21:04:17 \u002b0000 UTC","dateModified":"2014-03-03 21:04:17 \u002b0000 UTC","url":"https:\/\/blog.qlf.io\/post\/nodejs-crawler-start\/","keywords":[]}</script><title>Nodejs写一个简单爬虫 - Scott Qian</title><meta property="og:title" content="Nodejs写一个简单爬虫 - Scott Qian"><meta property="og:type" content="article"><meta property="og:description" content="Nodejs最近两年火的不行啊，作为半个前端（好吧，最近写公司项目写的快变成半个前端了，再下去是不是要全端了）我也来试着用 nodejs 写个最简单的爬虫，体验一把 nodejs。
首先下载 Nodejs 什么的就不说了，直接下一步。Nodejs 的包管理工具 NPM 也会同时被安装。这点做得比 python 好，装个 pip 还要自己动手。话说 c#也有个 nuget，好像包管理必不可少啊现在。安装好之后，使用 npm 安装如下两个依赖库：
npm install request npm install cheerio 注意，安装的时候一定要先将命令行跳到你项目文件所在的目录，然后进行安装。否则安装之后会出现 request 找不到的错误。其中 request 是用来请求数据的，cherrio 是用 jquery 的语法来解析 html 的，对于熟悉 jquery 的童鞋来说十分方便。 上代码:
var request = require(&#34;request&#34;); var cheerio = require(&#34;cheerio&#34;); request(&#34;http://news.dbanotes.net/&#34;, function(error, response, body) { if (!error && response.statusCode == 200) { var $ = cheerio.load(body); $(&#34;tr td.title a&#34;).each(function() { console.log(&#34;%s (%s)&#34;, $(this).text(), $(this).attr(&#34;href&#34;)); }); } }); 从这个小例子来看还是蛮简单的噢，执行结果如下："><meta name=description content="Nodejs最近两年火的不行啊，作为半个前端（好吧，最近写公司项目写的快变成半个前端了，再下去是不是要全端了）我也来试着用 nodejs 写个最简单的爬虫，体验一把 nodejs。
首先下载 Nodejs 什么的就不说了，直接下一步。Nodejs 的包管理工具 NPM 也会同时被安装。这点做得比 python 好，装个 pip 还要自己动手。话说 c#也有个 nuget，好像包管理必不可少啊现在。安装好之后，使用 npm 安装如下两个依赖库：
npm install request npm install cheerio 注意，安装的时候一定要先将命令行跳到你项目文件所在的目录，然后进行安装。否则安装之后会出现 request 找不到的错误。其中 request 是用来请求数据的，cherrio 是用 jquery 的语法来解析 html 的，对于熟悉 jquery 的童鞋来说十分方便。 上代码:
var request = require(&#34;request&#34;); var cheerio = require(&#34;cheerio&#34;); request(&#34;http://news.dbanotes.net/&#34;, function(error, response, body) { if (!error && response.statusCode == 200) { var $ = cheerio.load(body); $(&#34;tr td.title a&#34;).each(function() { console.log(&#34;%s (%s)&#34;, $(this).text(), $(this).attr(&#34;href&#34;)); }); } }); 从这个小例子来看还是蛮简单的噢，执行结果如下："><meta property="og:locale" content><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/highlight/tomorrow.min.css><link rel=stylesheet href=/css/index.css><link href=/index.xml rel=alternate type=application/rss+xml title="Scott Qian"><link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif" rel=stylesheet></head><body><article class=post id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class="signatures site-title"><a href=/>Scott Qian</a></div></header><div class="row end-xs"></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>Nodejs写一个简单爬虫</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2014-03-03 21:04:17 UTC">03 Mar 2014</time></div><div class=col-xs-6></div></div></header><div class="post-content markdown-body"><p><a href=http://nodejs.org/>Nodejs</a>最近两年火的不行啊，作为半个前端（好吧，最近写公司项目写的快变成半个前端了，再下去是不是要全端了）我也来试着用 nodejs 写个最简单的爬虫，体验一把 nodejs。</p><p>首先下载 Nodejs 什么的就不说了，直接下一步。Nodejs 的包管理工具 NPM 也会同时被安装。这点做得比 python 好，装个 pip 还要自己动手。话说 c#也有个 nuget，好像包管理必不可少啊现在。安装好之后，使用 npm 安装如下两个依赖库：</p><pre><code>npm install request
npm install cheerio
</code></pre><p><strong>注意，安装的时候一定要先将命令行跳到你项目文件所在的目录</strong>，然后进行安装。否则安装之后会出现 request 找不到的错误。其中 request 是用来请求数据的，cherrio 是用 jquery 的语法来解析 html 的，对于熟悉 jquery 的童鞋来说十分方便。
上代码:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>request</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;request&#34;</span>);
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>cheerio</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;cheerio&#34;</span>);

<span style=color:#a6e22e>request</span>(<span style=color:#e6db74>&#34;http://news.dbanotes.net/&#34;</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>error</span>, <span style=color:#a6e22e>response</span>, <span style=color:#a6e22e>body</span>) {
  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>error</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>statusCode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>200</span>) {
    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>$</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cheerio</span>.<span style=color:#a6e22e>load</span>(<span style=color:#a6e22e>body</span>);
    <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#34;tr td.title a&#34;</span>).<span style=color:#a6e22e>each</span>(<span style=color:#66d9ef>function</span>() {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;%s (%s)&#34;</span>, <span style=color:#a6e22e>$</span>(<span style=color:#66d9ef>this</span>).<span style=color:#a6e22e>text</span>(), <span style=color:#a6e22e>$</span>(<span style=color:#66d9ef>this</span>).<span style=color:#a6e22e>attr</span>(<span style=color:#e6db74>&#34;href&#34;</span>));
    });
  }
});
</code></pre></div><p>从这个小例子来看还是蛮简单的噢，执行结果如下：</p></div><div class="row middle-xs"><div class=col-xs-12></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><div class=post-comments><div id=disqus_thread></div><script>window.addEventListener("load",()=>{(function(){var d=document,s=d.createElement("script");s.src="https://scottqian.disqus.com/embed.js";s.setAttribute("data-timestamp",+new Date());(d.head||d.body).appendChild(s);})();});</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><div class=site-footer><div class=site-footer-item><a href=https://github.com/qianlifeng target=_blank>Github</a></div></div></div></div></article><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>