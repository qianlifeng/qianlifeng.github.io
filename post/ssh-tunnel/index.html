<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.79.1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta property="og:url" content="https://blog.qlf.io/post/ssh-tunnel/"><link rel=canonical href=https://blog.qlf.io/post/ssh-tunnel/><link rel=preload href=/js/highlight.pack.js as=script><link rel=alternate type=application/atom+xml href=https://blog.qlf.ioindex.xml title=钱李峰的博客><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.qlf.io"},"articleSection":"post","name":"SSH打洞大法","headline":"SSH打洞大法","description":"SSH 在手，天下我有\n暴露内网端口给外网 使用场景  开发联调。别人只能访问到你的外网地址，但是你想在本地机器监测并调试 内网内容资源展示  基本流程就是别人访问外网，然后外网转发到内网，实际的内容是在内网。因为外网不能主动访问到内网，所以下面这条命令一定要从内网运行。\n#暴露内网的3306给remotehost的9123，这样别人访问外网的9123实际就是访问的内网的3306 ssh -R 9123:127.0.0.1:3306 username@remotehost 流量转发 使用场景  本地不能直接连接处于内网的 mysql，可以通过 ssh forward 上去  这条命令会转发本地3308的流程到mysqlhost的3306端口 ssh -L 3308:mysqlhost:3306 user@sshhost 还是比较好区分这两种命令的。R 代表 remote，L 代表 local，如果是-R 表示 remote -\u0026gt; local，-L 标志 local-\u0026gt;remote","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2015","datePublished":"2015-09-28 11:35:17 \u002b0000 UTC","dateModified":"2015-09-28 11:35:17 \u002b0000 UTC","url":"https:\/\/blog.qlf.io\/post\/ssh-tunnel\/","keywords":[]}</script><title>SSH打洞大法 - 钱李峰的博客</title><meta property="og:title" content="SSH打洞大法 - 钱李峰的博客"><meta property="og:type" content="article"><meta property="og:description" content="SSH 在手，天下我有
暴露内网端口给外网 使用场景  开发联调。别人只能访问到你的外网地址，但是你想在本地机器监测并调试 内网内容资源展示  基本流程就是别人访问外网，然后外网转发到内网，实际的内容是在内网。因为外网不能主动访问到内网，所以下面这条命令一定要从内网运行。
#暴露内网的3306给remotehost的9123，这样别人访问外网的9123实际就是访问的内网的3306 ssh -R 9123:127.0.0.1:3306 username@remotehost 流量转发 使用场景  本地不能直接连接处于内网的 mysql，可以通过 ssh forward 上去  这条命令会转发本地3308的流程到mysqlhost的3306端口 ssh -L 3308:mysqlhost:3306 user@sshhost 还是比较好区分这两种命令的。R 代表 remote，L 代表 local，如果是-R 表示 remote -> local，-L 标志 local->remote"><meta name=description content="SSH 在手，天下我有
暴露内网端口给外网 使用场景  开发联调。别人只能访问到你的外网地址，但是你想在本地机器监测并调试 内网内容资源展示  基本流程就是别人访问外网，然后外网转发到内网，实际的内容是在内网。因为外网不能主动访问到内网，所以下面这条命令一定要从内网运行。
#暴露内网的3306给remotehost的9123，这样别人访问外网的9123实际就是访问的内网的3306 ssh -R 9123:127.0.0.1:3306 username@remotehost 流量转发 使用场景  本地不能直接连接处于内网的 mysql，可以通过 ssh forward 上去  这条命令会转发本地3308的流程到mysqlhost的3306端口 ssh -L 3308:mysqlhost:3306 user@sshhost 还是比较好区分这两种命令的。R 代表 remote，L 代表 local，如果是-R 表示 remote -> local，-L 标志 local->remote"><meta property="og:locale" content><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/highlight/tomorrow.min.css><link rel=stylesheet href=/css/index.css><link href=/index.xml rel=alternate type=application/rss+xml title=钱李峰的博客><link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif" rel=stylesheet></head><body><article class=post id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class="signatures site-title"><a href=/>Scott Qian</a></div></header><div class="row end-xs"></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>SSH打洞大法</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2015-09-28 11:35:17 UTC">28 Sep 2015</time></div><div class=col-xs-6></div></div></header><div class="post-content markdown-body"><p>SSH 在手，天下我有</p><h1 id=暴露内网端口给外网>暴露内网端口给外网</h1><h2 id=使用场景>使用场景</h2><ul><li>开发联调。别人只能访问到你的外网地址，但是你想在本地机器监测并调试</li><li>内网内容资源展示</li></ul><p>基本流程就是别人访问外网，然后外网转发到内网，实际的内容是在内网。因为外网不能主动访问到内网，<strong>所以下面这条命令一定要从内网运行</strong>。</p><pre><code>#暴露内网的3306给remotehost的9123，这样别人访问外网的9123实际就是访问的内网的3306
ssh -R 9123:127.0.0.1:3306 username@remotehost
</code></pre><h1 id=流量转发>流量转发</h1><h2 id=使用场景-1>使用场景</h2><ul><li>本地不能直接连接处于内网的 mysql，可以通过 ssh forward 上去</li></ul><pre><code>这条命令会转发本地3308的流程到mysqlhost的3306端口
ssh -L 3308:mysqlhost:3306 user@sshhost
</code></pre><p>还是比较好区分这两种命令的。R 代表 remote，L 代表 local，如果是-R 表示 remote -> local，-L 标志 local->remote</p></div><div class="row middle-xs"><div class=col-xs-12></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><div class=post-comments><div id=disqus_thread></div><script>window.addEventListener("load",()=>{(function(){var d=document,s=d.createElement("script");s.src="https://scottqian.disqus.com/embed.js";s.setAttribute("data-timestamp",+new Date());(d.head||d.body).appendChild(s);})();});</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><div class=site-footer><div class=site-footer-item><a href=https://github.com/qianlifeng target=_blank>Github</a></div></div></div></div></article><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>