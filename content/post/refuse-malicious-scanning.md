---
title: 拒绝恶意扫描登陆
date: 2014-11-02 21:53:17
---

如今的互联网世界中，没有机器孤岛。你的机器总于其他人的机器有着千丝万缕的联系。于是，攻击就来了。

这不，最近自己的 VPS 被各种不明的 IP 扫端口，尝试登陆 SSH 等各种恶意行为光顾着。不知道的同学可以查看一下`/var/log/auth.log`看看里面有多少次失败的尝试登陆，估计吓你一跳。那如何预防呢？

最简单粗暴的方法就是更改默认的 SSH 端口了。方法如下：

1. 更改`/var/etc/sshd_config`文件，将里面的 22 端口改为其他的端口号，例如：7216
2. 重启 SSH 服务。`service ssh restart`

还有一个更加"智能"的方法就是使用[fail2ban](http://www.fail2ban.org/)，这个工具会自动分析系统日志中那些恶意的扫描登陆，然后将他们 ban 掉。我也装了一个，不过具体效果还没有验证。有兴趣的同学可以试着安装一个。
